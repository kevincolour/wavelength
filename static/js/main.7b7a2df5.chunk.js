(this.webpackJsonplongwave=this.webpackJsonplongwave||[]).push([[0],{138:function(e,t){},146:function(e,t,r){"use strict";r.r(t);r(74),r(75),r(76);var c=r(0),n=r.n(c),s=r(16),a=r.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=r(32),o=(r(81),r(37)),l=r(13);function u(e,t){const r=localStorage.getItem(t);null==r?localStorage.setItem(t,JSON.stringify(e)):e=JSON.parse(r);const[n,s]=Object(c.useState)(e);return[n,e=>{localStorage.setItem(t,JSON.stringify(e)),s(e)}]}r(82);function d(){return Math.floor(21*Math.random())}function j(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";let t="";for(let r=0;r<4;r++)t+=e[Math.floor(36*Math.random())];return t}let g=function(e){return e[e.SetupGame=0]="SetupGame",e[e.PickTeams=1]="PickTeams",e[e.GiveClue=2]="GiveClue",e[e.MakeGuess=3]="MakeGuess",e[e.CounterGuess=4]="CounterGuess",e[e.ViewScore=5]="ViewScore",e}({}),b=function(e){return e[e.Teams=0]="Teams",e[e.Cooperative=1]="Cooperative",e[e.Freeplay=2]="Freeplay",e}({}),m=function(e){return e[e.Unset=0]="Unset",e[e.Left=1]="Left",e[e.Right=2]="Right",e}({});function h(e){return e===m.Left?m.Right:e===m.Right?m.Left:m.Unset}function p(e,t){return e===m.Left?t("gamestate.left_brain"):e===m.Right?t("gamestate.right_brain"):t("gamestate.the_player")}function x(e){return{gameType:b.Teams,roundPhase:g.SetupGame,turnsTaken:-1,deckSeed:j(),deckIndex:0,spectrumTarget:d(),clue:"",guess:0,counterGuess:"left",players:{},clueGiver:"",leftScore:0,rightScore:0,coopScore:0,coopBonusTurns:0,previousTurn:null,deckLanguage:e,allPlayersDone:!1}}var O=r(7);var f=r(2);const v={display:"flex",flexFlow:"row",justifyContent:"space-evenly",alignItems:"center"};function y(e){return Object(f.jsx)("div",{style:{...v,flexFlow:"row",...e.style},children:e.children})}function S(e){return Object(f.jsx)("div",{style:{...v,flexFlow:"column",...e.style},children:e.children})}const k=r(94);function w(e){const t=new k;t.from_hue(e).scheme("contrast").variation("soft");const[r,,,,c]=t.colors();return["#"+r,"#"+c]}function C(){const{t:e}=Object(O.c)(),[t,r]=Object(c.useState)(0),[n,s]=w(t);return Object(c.useEffect)((()=>{const e=setInterval((()=>{r((e=>(e+1)%360))}),5);return()=>clearInterval(e)})),Object(f.jsx)("h1",{style:{backgroundImage:"linear-gradient(90deg, ".concat(n," 10%, ").concat(s," 90%)"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e("title.longwave")})}function T(e){const{t:t}=Object(O.c)(),r=Object(c.useRef)(null);return Object(f.jsxs)(S,{children:[Object(f.jsx)(C,{}),Object(f.jsxs)("div",{children:[t("inputname.your_name"),":"]}),Object(f.jsx)("input",{type:"text",style:{margin:16},ref:r,onKeyDown:t=>!!r.current&&("Enter"!==t.key||void e.setName(r.current.value))})]})}const _=Object(c.createContext)({gameState:x("en"),localPlayer:{id:"localPlayer",name:"Player",team:m.Unset},clueGiver:null,spectrumCard:["left","right"],setGameState:e=>{console.warn("GameModelContext not provided. Got setGameState: "+JSON.stringify(e))},setPlayerName:()=>{}});var G=r(71);function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;if(void 0===e)return"#000";const r=function(e){if(!e||void 0===e||""===e)return;const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:void 0}(e);return void 0===r||function(e){let{r:t,g:r,b:c}=e;return(299*t+587*r+114*c)/1e3}(r)>=t?"#000":"#fff"}function P(e){const{t:t}=Object(O.c)(),[r,c]=w(function(e){let t=0;for(let r=0;r<e.length;r++)t+=e.charCodeAt(r);return t}(e.spectrumCard[0])),n={padding:8,fontWeight:"bold"},s=I(r),a=I(c);let i={height:18,width:18,backgroundColor:"rgba(255,255,255,0.8)",borderColor:"black"};const o={...i,cursor:"auto",bottom:-9,borderWidth:4,transform:"translateX(-5px)"};e.onChange||(i.cursor="auto",i.boxShadow="none"),void 0===e.handleValue&&(i.display="none");let l={};return void 0!==e.targetValue&&e.targetValue==e.handleValue||void 0!==e.targetValue&&(l[e.targetValue]={style:{fontWeight:"bold",color:"black",cursor:"auto"},label:t("spectrum.target")}),void 0!==e.guessingValue&&(l[e.guessingValue]={style:{fontWeight:"bold",color:"black",cursor:"auto"},label:t("spectrum.guessing")}),Object(f.jsx)("div",{style:{padding:8},children:Object(f.jsxs)(S,{style:{alignItems:"stretch"},children:[Object(f.jsxs)(y,{style:{justifyContent:"space-between"},children:[Object(f.jsx)("div",{style:{...n,backgroundColor:r,color:s},children:e.spectrumCard[0]}),Object(f.jsx)("div",{style:{...n,backgroundColor:c,color:a},children:e.spectrumCard[1]})]}),Object(f.jsx)("div",{style:{padding:"16px 32px"},children:Object(f.jsx)(G.a,{min:0,max:20,value:e.handleValue,trackStyle:{backgroundColor:"transparent"},railStyle:{background:"linear-gradient(90deg, ".concat(r," 0%, ").concat(c," 100%)"),height:8},handleStyle:i,onChange:e.onChange,marks:l,dotStyle:o})})]})})}function L(e){return Object(f.jsx)("input",{style:{padding:8,margin:8},type:"button",value:e.text,onClick:e.onClick,disabled:e.disabled})}var R=r(29),V=r(26),E=r(48);function F(e){return Object(f.jsx)(E.a,{content:e.children,placement:"bottom",children:Object(f.jsx)("div",{style:{margin:8},children:Object(f.jsx)(R.a,{icon:V.b})})})}function M(e){const[t,r]=Object(c.useState)(e.animation);return Object(c.useEffect)((()=>{setTimeout((()=>r(e.animation+" animate")))})),Object(f.jsx)("div",{className:t,style:e.style,children:e.children})}function B(){var e,t;const{t:r}=Object(O.c)(),{gameState:n,localPlayer:s,clueGiver:a,spectrumCard:i,setGameState:o}=Object(c.useContext)(_),l=Object(c.useRef)(null),[u,j]=Object(c.useState)(!(null!==(e=l.current)&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length));if(!a)return o({clueGiver:s.id}),null;if(s.id!==a.id)return Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{animation:"wipe-reveal-right",children:Object(f.jsx)(P,{spectrumCard:i})}),Object(f.jsx)(S,{children:Object(f.jsx)("div",{children:r("giveclue.waiting_for_clue",{givername:a.name})})})]});const m=()=>{var e,t;if(null===(e=l.current)||void 0===e||null===(t=e.value)||void 0===t||!t.length)return!1;o({clue:l.current.value,guess:10,roundPhase:g.MakeGuess})};return Object(f.jsxs)("div",{children:[n.gameType!==b.Cooperative&&Object(f.jsx)(S,{style:{alignItems:"flex-end"},children:Object(f.jsx)(L,{text:r("giveclue.draw_other_hand"),onClick:()=>o({deckIndex:n.deckIndex+1,spectrumTarget:d()})})}),Object(f.jsx)(M,{animation:"wipe-reveal-right",children:Object(f.jsx)(P,{targetValue:n.spectrumTarget,spectrumCard:i})}),Object(f.jsxs)(S,{children:[Object(f.jsxs)(y,{children:[Object(f.jsx)("input",{type:"text",ref:l,onKeyDown:e=>{if("Enter"!==e.key)return!0;m()},onChange:()=>{var e,t;return j(!(null!==(e=l.current)&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length))}}),Object(f.jsx)(F,{children:Object(f.jsxs)("div",{children:[r("giveclue.instructions"),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:r("giveclue.focus1")}),Object(f.jsx)("li",{children:r("giveclue.focus2")}),Object(f.jsx)("li",{children:r("giveclue.focus3")}),Object(f.jsx)("li",{children:r("giveclue.focus4")})]})]})})]}),Object(f.jsx)(L,{text:r("giveclue.give_clue"),onClick:m,disabled:u})]})]})}r(147);function W(e,t){const r=Math.abs(e-t);return r>2?0:4-Math.floor(r)}function N(e,t,r){const c=W(e.spectrumTarget,e.guess),n="left"===r&&e.spectrumTarget<e.guess||"right"===r&&e.spectrumTarget>e.guess;let s={roundPhase:g.ViewScore,counterGuess:r};return t===m.Right&&(s.rightScore=e.rightScore+c,s.leftScore=e.leftScore+(n?1:0)),t===m.Left&&(s.leftScore=e.leftScore+c,s.rightScore=e.rightScore+(n?1:0)),s}function U(){const{t:e}=Object(O.c)(),{gameState:t,localPlayer:r,clueGiver:s,spectrumCard:a,setGameState:o}=Object(c.useContext)(_),[l,u]=n.a.useState(10);if(!s)return null;const d=r.id===s.id||t.gameType===b.Teams&&r.team!==s.team;p(s.team,e);if(d)return Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{spectrumCard:a,guessingValue:t.guess}),Object(f.jsxs)(S,{children:[Object(f.jsxs)("div",{children:[e("makeguess.players_clue",{givername:s.name}),":"," ",Object(f.jsx)("strong",{children:t.clue})]}),Object(f.jsx)("div",{children:"Waiting for all the players to guess..."}),Object.keys(t.players).length<2&&Object(f.jsxs)("div",{style:{margin:12,padding:"0 1em",border:"1px solid black"},children:[Object(f.jsx)("p",{children:e("makeguess.invite_other_players")}),Object(f.jsx)("p",{children:e("makeguess.share_game_url",{game_url:window.location.href})})]})]})]});const j=void 0!=t.players[r.id].guess;return Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{spectrumCard:a,handleValue:l,onChange:e=>{!j&&u(e)}}),Object(f.jsxs)(S,{children:[Object(f.jsxs)("div",{children:[e("makeguess.players_clue",{givername:s.name}),":"," ",Object(f.jsx)("strong",{children:t.clue})]}),Object(f.jsxs)("div",{children:[j&&Object(f.jsx)("div",{children:"guess submitted "}),!j&&Object(f.jsx)(L,{text:e("makeguess.guess",{}),onClick:()=>{var e,c;if(e="guess_submitted",c={spectrum_card:a.join("|"),clue:t.clue,target:t.spectrumTarget.toString(),guess:t.guess.toString()},i.a.analytics().logEvent(e,{app_name:"Longwave",screen_name:"index",...c}),t.gameType===b.Teams)o({roundPhase:g.CounterGuess});else if(t.gameType===b.Cooperative)o(function(e){const t=W(e.spectrumTarget,e.guess);let r={roundPhase:g.ViewScore};return 4===t?(r.coopScore=e.coopScore+3,r.coopBonusTurns=e.coopBonusTurns+1):r.coopScore=e.coopScore+t,r}(t));else{const e={...t.players[r.id],guess:l},c=Object.keys(t.players).every((e=>void 0!=t.players[e].guess||t.players[e].name===s.name||r.name===t.players[e].name));o(c?{roundPhase:g.ViewScore,players:{...t.players,[r.id]:e}}:{players:{...t.players,[r.id]:e}})}}})]})]})]})}var J=r(65),z=r.n(J);const A=r(129),D=z()(((e,t)=>A.shuffle(t,e)));function K(e,t,r,c,n){const s=e.players[e.clueGiver]?{...e.players[e.clueGiver],id:e.clueGiver}:null,a=[...c("basic",{returnObjects:!0}),...c("advanced",{returnObjects:!0})],i=D(e.deckSeed,a);return{gameState:e,localPlayer:{...e.players[r],id:r},clueGiver:s,spectrumCard:i[e.deckIndex%i.length],setGameState:t,setPlayerName:n}}function H(e,t,r){const c=K(t,(()=>{}),e,r,(()=>{}));Object.keys(t.players).forEach((e=>{delete t.players[e].guess}));const n={clueGiver:e,roundPhase:g.GiveClue,deckIndex:t.deckIndex+1,turnsTaken:t.turnsTaken+1,spectrumTarget:d()};return null!==c.clueGiver&&(n.previousTurn={spectrumCard:c.spectrumCard,spectrumTarget:t.spectrumTarget,clueGiverName:c.clueGiver.name,clue:t.clue,guess:t.guess}),n}function Y(){const{t:e}=Object(O.c)(),{gameState:t,clueGiver:r,spectrumCard:n}=Object(c.useContext)(_);if(!r)return null;let s=W(t.spectrumTarget,t.guess),a=!1;t.gameType===b.Cooperative&&4===s&&(s=3,a=!0);const i="left"===t.counterGuess&&t.spectrumTarget<t.guess||"right"===t.counterGuess&&t.spectrumTarget>t.guess;let o=0;Object.keys(t.players).forEach((e=>{var r;o+=null!==(r=t.players[e].guess)&&void 0!==r?r:0}));const l=o/(Object.keys(t.players).length-1);return t.guess=l,Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{spectrumCard:n,handleValue:l,targetValue:t.spectrumTarget}),Object(f.jsxs)(S,{children:[Object(f.jsxs)("div",{children:[e("viewscore.player_clue",{givername:r.name}),":"," ",Object(f.jsx)("strong",{children:t.clue})]}),4==s?Object(f.jsx)("div",{style:{borderBottom:"4px solid green"},children:"Perfect Score!"}):Object(f.jsxs)("div",{children:[e("viewscore.score"),": ",s," ",e("viewscore.points"),"!"]}),t.gameType===b.Teams&&Object(f.jsxs)("div",{children:[p(h(r.team),e)," ",e("viewscore.got")," ",e(i?"viewscore.1_point_correct_guess":"viewscore.0_point_wrong_guess")]}),a&&Object(f.jsx)(O.a,{i18nKey:e("viewscore.bonus_turn"),components:{strong:Object(f.jsx)("strong",{})}}),Object(f.jsx)(X,{})]})]})}function X(){const{t:e,i18n:t}=Object(O.c)(),r=Object(O.c)("spectrum-cards"),{gameState:n,localPlayer:s,clueGiver:a,setGameState:i}=Object(c.useContext)(_);if(!a)return null;const o=Object(f.jsx)(L,{text:e("viewscore.reset_game"),onClick:()=>{i({...x(t.language),deckSeed:n.deckSeed,deckIndex:n.deckIndex})}});if(n.leftScore>=10&&n.leftScore>n.rightScore)return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:e("viewscore.winning_team",{winnerteam:p(m.Left,e)})}),o]});if(n.rightScore>=10&&n.rightScore>n.leftScore)return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:e("viewscore.winning_team",{winnerteam:p(m.Right,e)})}),o]});if(n.gameType===b.Cooperative&&n.turnsTaken>=7+n.coopBonusTurns)return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:e("viewscore.game_finished")}),Object(f.jsxs)("div",{children:[e("viewscore.final_score_team"),":"," ",Object(f.jsxs)("strong",{children:[n.coopScore," ",e("viewscore.points")]})]}),o]});const l=W(n.spectrumTarget,n.guess),u=p(a.team,e);let d=!1;const j=(()=>{if(n.gameType!==b.Teams)return m.Unset;if(4===l){if(n.leftScore<n.rightScore&&a.team===m.Left)return d=!0,m.Left;if(n.rightScore<n.leftScore&&a.team===m.Right)return d=!0,m.Right}return h(a.team)})(),g=a.id!==s.id&&(n.gameType!==b.Teams||s.team===j);return Object(f.jsxs)(f.Fragment,{children:[d&&Object(f.jsxs)(y,{children:[Object(f.jsx)("div",{children:e("viewscore.catching_up",{scoringteam:u})}),Object(f.jsx)(F,{children:e("viewscore.catching_up_info")})]}),g&&Object(f.jsx)(L,{text:e("viewscore.draw_next_card"),onClick:()=>i(H(s.id,n,r.t))})]})}function $(){const{t:e}=Object(O.c)(),t=Object(O.c)("spectrum-cards"),{gameState:r,localPlayer:n,setGameState:s}=Object(c.useContext)(_),a=Object.keys(r.players).filter((e=>r.players[e].team===m.Left)),i=Object.keys(r.players).filter((e=>r.players[e].team===m.Right)),o=e=>{s({players:{...r.players,[n.id]:{...n,team:e}}})};return Object(f.jsxs)(S,{children:[Object(f.jsx)(C,{}),Object(f.jsxs)("div",{children:[e("jointeam.join_team"),":"]}),Object(f.jsxs)(y,{style:{alignItems:"flex-start",alignSelf:"stretch"},children:[Object(f.jsxs)(S,{children:[Object(f.jsx)("div",{children:p(m.Left,e)}),a.map((e=>Object(f.jsx)("div",{children:r.players[e].name},e))),Object(f.jsx)("div",{children:Object(f.jsx)(L,{text:e("jointeam.join_left"),onClick:()=>o(m.Left)})})]}),Object(f.jsxs)(S,{children:[Object(f.jsx)("div",{children:p(m.Right,e)}),i.map((e=>Object(f.jsx)("div",{children:r.players[e].name},e))),Object(f.jsx)("div",{children:Object(f.jsx)(L,{text:e("jointeam.join_right"),onClick:()=>o(m.Right)})})]})]}),r.roundPhase===g.PickTeams&&Object(f.jsx)(L,{text:e("jointeam.start_game"),onClick:()=>s(function(e,t,r,c){const n={leftScore:0,rightScore:0};return e[t].team===m.Left?n.rightScore=1:n.leftScore=1,{...H(t,r,c),...n,previousTurn:null,gameType:b.Teams}}(r.players,n.id,r,t.t))})]})}function q(){const{t:e}=Object(O.c)(),{gameState:t,clueGiver:r}=Object(c.useContext)(_),n={borderTop:"1px solid black",margin:16,paddingTop:16,alignItems:"center"};if(t.gameType===b.Freeplay)return Object(f.jsxs)(S,{style:n,children:[Object(f.jsx)("em",{children:e("scoreboard.free_play")}),Object(f.jsx)(y,{style:{flexWrap:"wrap"},children:Object.keys(t.players).filter((e=>e!=(null===r||void 0===r?void 0:r.id))).map(ee)})]});if(t.gameType===b.Cooperative){const r=7+t.coopBonusTurns-t.turnsTaken;return Object(f.jsxs)(S,{style:n,children:[Object(f.jsxs)("em",{children:[e("scoreboard.coop_score"),": ",t.coopScore," ",e("scoreboard.points")]}),Object(f.jsx)("div",{children:0===r?e("scoreboard.last_card"):e("scoreboard.card_remaining")+": "+r}),Object(f.jsx)(y,{style:{flexWrap:"wrap"},children:Object.keys(t.players).map(ee)})]})}return Object(f.jsxs)(y,{style:n,children:[Object(f.jsx)(Q,{team:m.Left,score:t.leftScore}),Object(f.jsx)(Q,{team:m.Right,score:t.rightScore})]})}function Q(e){const{t:t}=Object(O.c)(),{gameState:r}=Object(c.useContext)(_),n=Object.keys(r.players).filter((t=>r.players[t].team===e.team));return Object(f.jsxs)(S,{style:{alignItems:"flex-start"},children:[Object(f.jsxs)("div",{children:[p(e.team,t),": ",Object(f.jsx)(Z,{score:e.score})," ",t("scoreboard.points")]}),n.map(ee)]})}function Z(e){const t=Object(c.useRef)(e.score);return Object(c.useEffect)((()=>{t.current=e.score}),[e.score]),e.score-t.current===0?Object(f.jsx)("span",{children:e.score}):Object(f.jsxs)("span",{style:{position:"relative"},children:[e.score,Object(f.jsxs)(M,{animation:"fade-disappear-up",style:{position:"absolute",fontSize:"small",top:-16,right:0},children:["+",e.score-t.current]})]})}function ee(e){return Object(f.jsx)(te,{playerId:e},e)}function te(e){const{gameState:t,setGameState:r}=Object(c.useContext)(_),n=t.players[e.playerId],[s,a]=Object(c.useState)(!1);let i={marginLeft:16,display:"flex",flexFlow:"row",borderBottom:"none"};return t.players[e.playerId].guess&&(i={...i,borderBottom:"1px solid black"}),Object(f.jsxs)("div",{style:i,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[n.name,Object(f.jsx)("div",{style:{marginLeft:4,width:20}})]})}function re(){const{t:e}=Object(O.c)(),t=Object(O.c)("spectrum-cards"),{gameState:r,setGameState:n,localPlayer:s}=Object(c.useContext)(_);return Object(f.jsxs)(S,{children:[Object(f.jsx)(C,{}),Object(f.jsx)(y,{style:{flexWrap:"wrap"},children:Object(f.jsx)(L,{text:e("setupgame.free_game"),onClick:()=>{var e;(e=b.Freeplay)===b.Teams?n({roundPhase:g.PickTeams,gameType:e}):n({...H(s.id,r,t.t),gameType:e})}})})]})}function ce(){const{t:e}=Object(O.c)(),{gameState:t,localPlayer:r,clueGiver:n,spectrumCard:s,setGameState:a}=Object(c.useContext)(_);if(!n)return null;const i=n.team===r.team,o=p(h(n.team),e);return i?Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{spectrumCard:s,guessingValue:t.guess}),Object(f.jsxs)(S,{children:[Object(f.jsxs)("div",{children:[e("counterguess.players_clue",{givername:n.name}),":"," ",Object(f.jsx)("strong",{children:t.clue})]}),Object(f.jsx)("div",{children:e("counterguess.waiting_guess_team",{guessteam:o})})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{spectrumCard:s,guessingValue:t.guess}),Object(f.jsx)(S,{children:Object(f.jsxs)("div",{children:[e("counterguess.players_clue",{givername:n.name}),":"," ",Object(f.jsx)("strong",{children:t.clue})]})}),Object(f.jsxs)(y,{children:[Object(f.jsx)(L,{text:e("counterguess.more_left"),onClick:()=>a(N(t,n.team,"left"))}),Object(f.jsx)(L,{text:e("counterguess.more_right"),onClick:()=>a(N(t,n.team,"right"))})]})]})}function ne(){const{gameState:e,localPlayer:t}=Object(c.useContext)(_);return e.roundPhase===g.SetupGame?Object(f.jsx)(re,{}):e.gameType!==b.Teams||e.roundPhase!==g.PickTeams&&t.team!==m.Unset?Object(f.jsxs)(f.Fragment,{children:[e.roundPhase===g.GiveClue&&Object(f.jsx)(B,{}),e.roundPhase===g.MakeGuess&&Object(f.jsx)(U,{}),e.roundPhase===g.CounterGuess&&Object(f.jsx)(ce,{}),e.roundPhase===g.ViewScore&&Object(f.jsx)(Y,{}),Object(f.jsx)(q,{})]}):Object(f.jsx)($,{})}function se(){const{t:e}=Object(O.c)(),{roomId:t}=Object(l.g)();return Object(f.jsxs)(y,{style:{justifyContent:"flex-end",alignItems:"center",color:"gray"},children:[Object(f.jsxs)("div",{style:{margin:4,padding:4},children:[e("roomidheader.roomid")," ",t]}),Object(f.jsx)(E.a,{content:Object(f.jsx)(ae,{}),interactive:!0,placement:"bottom-end",children:Object(f.jsx)("div",{tabIndex:0,style:{padding:8},children:Object(f.jsx)(R.a,{icon:V.a})})})]})}function ae(){const{t:e,i18n:t}=Object(O.c)(),{setGameState:r,setPlayerName:n}=Object(c.useContext)(_),s={style:{margin:8,cursor:"pointer"},tabIndex:0};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{...s,onClick:()=>r(x(t.language)),children:[Object(f.jsx)(R.a,{icon:V.d})," ",e("roomidheader.reset_room")]}),Object(f.jsxs)("div",{...s,onClick:()=>n(""),children:[Object(f.jsx)(R.a,{icon:V.e})," ",e("roomidheader.change_name")]})]})}function ie(){const e=Object(O.c)("spectrum-cards"),[t,r]=Object(c.useState)({...x(e.i18n.language),gameType:b.Teams,roundPhase:g.PickTeams,players:{ul:{name:"Upper Left",team:m.Left},ll:{name:"Lower Left",team:m.Left},ur:{name:"Upper Right",team:m.Right},lr:{name:"Lower Right",team:m.Right}}}),n=e=>r({...t,...e}),s={width:500,margin:4,padding:4,border:"1px solid black"},a=r=>Object(f.jsx)("div",{style:s,children:Object(f.jsx)(_.Provider,{value:K(t,n,r,e.t,(()=>{})),children:Object(f.jsx)(ne,{})})});return Object(f.jsxs)(y,{style:{alignItems:"stretch",position:"absolute",top:100,left:0},children:[Object(f.jsxs)(S,{style:{alignItems:"stretch",justifyContent:"space-between"},children:[a("ul"),a("ll")]}),Object(f.jsxs)(S,{style:{alignItems:"stretch",justifyContent:"space-between"},children:[a("ur"),a("lr")]})]})}function oe(){var e;const{roomId:t}=Object(l.g)();if(void 0===t)throw new Error("RoomId missing");const[r,n]=u("","name"),[s]=u(j(),"playerId"),[a,o]=function(e,t,r){const{i18n:n}=Object(O.c)("spectrum-cards"),[s,a]=Object(c.useState)(x(n.language));Object(c.useEffect)((()=>{const c=i.a.database().ref("rooms/"+e);return c.on("value",(e=>{const s=e.val(),i={...x(n.language),...s};if(void 0!==(null===s||void 0===s?void 0:s.roundPhase))return void 0===i.players[t]?(i.players[t]={name:r,team:m.Unset},void c.set(i)):void a(i);c.set(i)})),()=>c.off()}),[t,r,e,n]);const o=i.a.database().ref("rooms/"+e);return[s,e=>{o.set({...s,...e})}]}(t,s,r),d=Object(O.c)("spectrum-cards");if(null!==a.deckLanguage&&d.i18n.language!==a.deckLanguage)return d.i18n.changeLanguage(a.deckLanguage),null;if("MULTIPLAYER_TEST"===t)return Object(f.jsx)(ie,{});const g=K(a,o,s,d.t,n);if(0===r.length)return Object(f.jsx)(T,{setName:e=>{n(e),a.players[s].name=e,o(a)}});const b=new URLSearchParams(window.location.search);if(b.get("rocketcrab")){const e=b.get("name");null!==e&&e!==r&&n(e)}return null!==a&&void 0!==a&&null!==(e=a.players)&&void 0!==e&&e[s]?Object(f.jsxs)(_.Provider,{value:g,children:[Object(f.jsx)(se,{}),Object(f.jsx)(ne,{})]}):null}function le(){const{t:e}=Object(O.c)();return Object(f.jsx)(y,{style:{paddingTop:8,borderTop:"1px solid black",color:"gray",fontSize:"small"},children:Object(f.jsx)(S,{children:Object(f.jsxs)("p",{style:{margin:8},children:[Object(f.jsx)(ue,{href:"https://www.wavelength.zone",text:"Wavelength"})," ",e("commonfooter.developed_by")," ",Object(f.jsx)(ue,{href:"https://github.com/cynicaloptimist/longwave",text:e("commonfooter.adapted_for_web")})," ",e("commonfooter.adapted_for_web_by")]})})})}function ue(e){return Object(f.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",children:e.text})}var de=r(54),je=r(67),ge=r(69);const be=["en","de","fr","pt-BR","it"];de.a.use(je.a).use(ge.a).use(O.b).init({fallbackLng:"en",detection:{order:["queryString","cookie"],caches:["cookie"]},interpolation:{escapeValue:!1},backend:{loadPath:"/https://github.com/kevincolour/wavelength/tree/gh-pages/locales/{{lng}}/translation.json"}});de.a;var me=r(70);function he(){const{t:e}=Object(O.c)(),t=Object(l.f)();return Object(f.jsxs)(S,{children:[Object(f.jsx)(C,{}),Object(f.jsxs)(y,{children:[Object(f.jsx)(L,{text:e("landingpage.create_room"),onClick:()=>{t.push("/"+j())}}),Object(f.jsx)(pe,{})]}),Object(f.jsxs)("p",{style:{margin:8},children:[Object(f.jsx)("strong",{children:e("landingpage.longwave")})," ",e("landingpage.adaptation")," ",Object(f.jsx)("em",{children:e("landingpage.wavelength")}),"."," ",e("landingpage.best_enjoyed")]})]})}function pe(){return Object(f.jsx)(me.Tooltip,{interactive:!0,position:"bottom",sticky:!0,tabIndex:0,html:Object(f.jsx)(xe,{}),children:Object(f.jsx)(R.a,{size:"lg",icon:V.c})})}function xe(){const{i18n:e}=Object(O.c)();return Object(f.jsx)(S,{style:{backgroundColor:"white",border:"1px solid black",padding:6},children:be.map((t=>Object(f.jsx)("div",{style:{cursor:"pointer"},tabIndex:0,onClick:()=>{e.changeLanguage(t)},children:t},t)))})}const Oe={maxWidth:500,margin:4,padding:4,border:"1px solid black"};var fe=function(){return Object(f.jsx)(S,{children:Object(f.jsx)("div",{style:Oe,children:Object(f.jsxs)(o.a,{children:[Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/:roomId",children:Object(f.jsx)(oe,{})}),Object(f.jsx)(l.a,{path:"/",children:Object(f.jsx)(he,{})})]}),Object(f.jsx)(le,{})]})})})};i.a.initializeApp({apiKey:"AIzaSyBOlTgRRwiSPNJFY66ERhztAmylHGx1uPg",authDomain:"wavelength-57435.firebaseapp.com",projectId:"wavelength-57435",storageBucket:"wavelength-57435.appspot.com",messagingSenderId:"759613809110",appId:"1:759613809110:web:cd9f1f2e69bfed792bc477",measurementId:"G-EL22HVEVTF",databaseURL:"https://wavelength-57435-default-rtdb.firebaseio.com/"}),a.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsx)(fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))},74:function(e,t,r){},81:function(e,t,r){}},[[146,1,2]]]);
//# sourceMappingURL=main.7b7a2df5.chunk.js.map